/*
 * Golden Grid System 2.0 (GGS-2.0) - SCSS Version
 * Version 1.1 - Angepasst für JavaScript-Kompatibilität des Overlays
 */

// --- Grid-Konfiguration ---
// SCSS-Variablen definieren die Logik, die dann in CSS Custom Properties geschrieben wird.
$ggs-desktop-content-cols: 16;
$ggs-tablet-content-cols: 8;
$ggs-margin-cols: 1; // Eine Spalte für jeden Rand

// Berechnungen finden hier zur Kompilierungszeit statt
$ggs-total-desktop-cols: $ggs-desktop-content-cols + ($ggs-margin-cols * 2); // -> 18
$ggs-total-tablet-cols: $ggs-tablet-content-cols + ($ggs-margin-cols * 2);  // -> 10


/* --- CSS Custom Properties (Variablen) --- */
// Diese werden vom Browser und vom Overlay-Skript gelesen.
:root {
  // NEU: Diese Variable enthält immer eine reine Zahl für JavaScript.
  --ggs-grid-columns: #{$ggs-total-desktop-cols};

  --ggs-gutter-width: 1.5rem;
  --ggs-overlay-color: rgba(255, 195, 0, 0.5);

  // Interne Variable für die Berechnung des Spalten-Offsets
  --ggs-margin-columns: #{$ggs-margin-cols};
}


/* --- Basis-Layout --- */
.ggs-container {
  display: grid;
  // Nutzt die neue, JS-lesbare Variable
  grid-template-columns: repeat(var(--ggs-grid-columns), 1fr);
  gap: var(--ggs-gutter-width);
  width: 100%;
  padding: 0 var(--ggs-gutter-width);
  box-sizing: border-box;
}

.ggs-col {
  // Der Offset wird weiterhin mit calc() und der internen Variable berechnet
  grid-column-start: calc(var(--ggs-margin-columns) + 1);
  grid-column-end: span 1;
}


/* --- Hilfsklassen (Spans & Starts) --- */
.ggs-col-span-1 { grid-column-end: span 1; }
.ggs-col-span-2 { grid-column-end: span 2; }
.ggs-col-span-4 { grid-column-end: span 4; }
.ggs-col-span-8 { grid-column-end: span 8; }
.ggs-col-span-16 { grid-column-end: span 16; }

.ggs-col-start-1 { grid-column-start: calc(var(--ggs-margin-columns) + 1); }
.ggs-col-start-5 { grid-column-start: calc(var(--ggs-margin-columns) + 5); }
.ggs-col-start-9 { grid-column-start: calc(var(--ggs-margin-columns) + 9); }


/* --- Media Queries (Responsive Anpassungen) --- */

/* Mittlere Bildschirme (Tablet) */
@media (max-width: 1024px) {
  :root {
    // Wichtig: Hier wird die Variable für JS und CSS aktualisiert
    --ggs-grid-columns: #{$ggs-total-tablet-cols};
    --ggs-gutter-width: 1rem;
  }

  .ggs-col-span-16 { grid-column-end: span 8; }
  .ggs-col-span-8 { grid-column-end: span 4; }
}

/* Kleine Bildschirme (Mobile) */
@media (max-width: 640px) {
  :root {
    // WICHTIG: Wir definieren 4 Spalten für das Overlay-Raster (auch wenn display: block aktiv ist)
    --ggs-grid-columns: 4;
    --ggs-gutter-width: 1rem;
  }

  .ggs-container {
    display: block;
  }

  .ggs-col {
    grid-column-start: auto;
    grid-column-end: auto;
  }
}
